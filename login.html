<main>
  <h1>BankMaps Login</h1>
  <form id="login-form">
    <label>Username<br><input id="username" type="text" required></label><br><br>
    <label>Password<br><input id="password" type="password" required></label><br><br>
    <button type="submit">Login</button>
  </form>
</main>
<script>
async function doLogin(e){
  e.preventDefault();
  const username = document.querySelector('#username').value;
  const password = document.querySelector('#password').value;
  const res = await fetch('/api/login', {
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body: JSON.stringify({ username, password })
  });
  if(res.ok){ location.href = '/dashboard.html'; }
  else{ alert('Invalid credentials'); }
}
document.querySelector('#login-form').addEventListener('submit', doLogin);
</script>
